!function s(r,o,u){function a(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(m)return m(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,s,r,o,u)}return o[t].exports}for(var m="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(e,t,n){"use strict";function r(e,t){return(e/t*100).toFixed(2)}n.__esModule=!0,n.MakeRequest=void 0,n.MakeRequest=function(e,t,n,s){e="./php/getgamelist.php?steamid="+e,t&&(e+="&includefreegames=on"),fetch(e).then(function(e){return e.json()}).then(function(e){var t;console.log(e),e.response?0!=Object.keys(e.response).length?(function(t){t.games60Plus||(t.games60Plus=[]);t.games60Minus||(t.games60Minus=[]);t.gamesZero||(t.gamesZero=[]);t.games.forEach(function(e){(0==e.playtime_forever?t.gamesZero:e.playtime_forever<60?t.games60Minus:t.games60Plus).push(e)}),function(e){e.stats={totalNumberOfGames:e.game_count,totalNumberOfMinutesPlayed:0,games60PlusNum:e.games60Plus.length,games60MinusNum:e.games60Minus.length,gamesZeroNum:e.gamesZero.length,games60PlusPercent:r(e.games60Plus.length,e.game_count),games60MinusPercent:r(e.games60Minus.length,e.game_count),gamesZeroPercent:r(e.gamesZero.length,e.game_count)}}(t)}(t=e.response),n(t)):s("Empty response; make sure user's privacy settings allow looking at their games."):s(e.error)})}},{}],2:[function(e,t,n){"use strict";n.__esModule=!0,n.setup=void 0;var s=e("./SteamHour");function r(e,t){document.querySelector("section.error").classList.remove("active"),document.querySelector("section.summary").classList.remove("active"),s.MakeRequest(e,t,o,u)}function o(e){e=e.stats,document.querySelector("section.summary span.games_num").textContent=e.totalNumberOfGames.toString(),document.querySelector("section.summary span.total_minutes").textContent=e.totalNumberOfMinutesPlayed.toString(),a("sixtyplus",e.games60PlusNum,e.games60PlusPercent),a("lessthansixty",e.games60MinusNum,e.games60MinusPercent),a("zerominutes",e.gamesZeroNum,e.gamesZeroPercent),document.querySelector("section.summary").classList.add("active")}function u(e){document.querySelector("section.error p").textContent=e,document.querySelector("section.error").classList.add("active")}function a(e,t,n){document.querySelector("section.summary span."+e+".num").textContent=t.toString(),document.querySelector("section.summary span."+e+".percent").textContent=n}n.setup=function(){var e,t=document.querySelector("form.steamid"),n=(e=new URL(window.location.toString())).searchParams.get("steamid"),s=null!=e.searchParams.get("includefreegames");null!=n&&0<n.length&&r(n,s),e=t,s=s,null==(n=n)&&!s||(e.querySelector("input[name=steamid]").value=n,e.querySelector("input[name=includefreegames]").checked=s),t.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("steamid"),e="on"===t.get("includefreegames");r(n,e);t=new URL(window.location.toString());t.searchParams.set("steamid",n),t.searchParams.delete("includefreegames"),e&&t.searchParams.append("includefreegames","on"),window.history.pushState(null,null,t.toString())})}},{"./SteamHour":1}],3:[function(e,t,n){"use strict";n.__esModule=!0,e("./SteamHourUI").setup()},{"./SteamHourUI":2}]},{},[3]);
//# sourceMappingURL=bundle.js.map
