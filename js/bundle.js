!function r(o,a,u){function s(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(m)return m(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,a,u)}return a[t].exports}for(var m="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";function a(e,t){e.num=e.games.length,e.percent=(e.games.length/t*100).toFixed(2)}function u(e){var t=Math.floor(e/60),e=e%60;return"".concat(t,"h").concat(e,"m")}n.__esModule=!0,n.MakeRequest=void 0,n.MakeRequest=function(e,t,r,o){e="./php/getgamelist.php?steamid=".concat(e),t&&(e+="&includefreegames=on"),fetch(e).then(function(e){return e.json()}).then(function(e){var t,n;e.response?0!=Object.keys(e.response).length?(t=e.response,(n=t).games_60_plus={games:[],num:0,percent:""},n.games_60_minus={games:[],num:0,percent:""},n.games_zero={games:[],num:0,percent:""},n.playtime_forever=0,n.playtime_natural_language="",n.games.sort(function(e,t){return e.playtime_forever==t.playtime_forever?e.name.localeCompare(t.name):t.playtime_forever-e.playtime_forever}),n.games.forEach(function(e){n.playtime_forever+=e.playtime_forever,0==e.playtime_forever?n.games_zero.games.push(e):e.playtime_forever<60?n.games_60_minus.games.push(e):(e.playtime_natural_language=u(e.playtime_forever),n.games_60_plus.games.push(e))}),n.playtime_natural_language=u(n.playtime_forever),a(n.games_60_plus,n.game_count),a(n.games_60_minus,n.game_count),a(n.games_zero,n.game_count),r(t)):o("Empty response; make sure user's privacy settings allow looking at their games."):o(e.error)})}},{}],2:[function(e,t,n){"use strict";n.__esModule=!0,n.setup=void 0;var r=e("./SteamHour");function o(e,t){a(!0),document.querySelector("section.games").innerHTML="",document.querySelector("section.summary").classList.remove("active"),document.querySelector("section.error").classList.remove("active"),r.MakeRequest(e,t,u,s)}function a(e){e?document.querySelector("section.loading").classList.add("active"):document.querySelector("section.loading").classList.remove("active")}function u(e){a(!1),n=e,document.querySelector("section.summary span.games_num").textContent=n.game_count.toString(),document.querySelector("section.summary span.total_minutes").textContent="".concat(n.playtime_forever," (").concat(n.playtime_natural_language,")"),m("sixtyplus",n.games_60_plus),m("lessthansixty",n.games_60_minus),m("zerominutes",n.games_zero);var t=c("60+ minutes",e.games_60_plus),n=c("1â€“59 minutes",e.games_60_minus),e=c("0 minutes",e.games_zero);document.querySelector("section.games").appendChild(t),document.querySelector("section.games").appendChild(n),document.querySelector("section.games").appendChild(e),document.querySelector("section.summary").classList.add("active")}function s(e){a(!1),document.querySelector("section.error p").textContent=e,document.querySelector("section.error").classList.add("active")}function m(e,t){document.querySelector("section.summary span.".concat(e,".num")).textContent=t.num.toString(),document.querySelector("section.summary span.".concat(e,".percent")).textContent=t.percent}function c(e,t){var n=document.querySelector("template.column"),n=document.importNode(n,!0).content;n.querySelector("h2").textContent=e,n.querySelector("span.num").textContent=t.num.toString(),n.querySelector("span.percent").textContent=t.percent;var r=n.querySelector("section.gamelist");return t.games.forEach(function(e){e=function(e){var t=document.querySelector("template.game"),n=document.importNode(t,!0).content,r=e.img_icon_url?"https://media.steampowered.com/steamcommunity/public/images/apps/".concat(e.appid,"/").concat(e.img_icon_url,".jpg"):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAH0lEQVR42mNkoBAwjhowasCoAaMGjBowasCoAcPNAACOMAAhOO/A7wAAAABJRU5ErkJggg==";n.querySelector("img.gameicon").setAttribute("src",r),n.querySelector("h3").textContent=e.name;t=n.querySelector(".gametime"),r=n.querySelector(".gametime_hrs");0<e.playtime_forever?t.textContent=e.playtime_forever.toString()+" minutes":t.remove();60<=e.playtime_forever?r.textContent=e.playtime_natural_language:r.remove();return n}(e);r.appendChild(e)}),n}n.setup=function(){var e,t=document.querySelector("form.steamid"),n=(e=new URL(window.location.toString())).searchParams.get("steamid"),r=null!=e.searchParams.get("includefreegames");null!=n&&0<n.length&&o(n,r),e=t,r=r,null==(n=n)&&!r||(e.querySelector("input[name=steamid]").value=n,e.querySelector("input[name=includefreegames]").checked=r),t.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("steamid"),e="on"===t.get("includefreegames");o(n,e);t=new URL(window.location.toString());t.searchParams.set("steamid",n),t.searchParams.delete("includefreegames"),e&&t.searchParams.append("includefreegames","on"),window.history.pushState(null,null,t.toString())})}},{"./SteamHour":1}],3:[function(e,t,n){"use strict";n.__esModule=!0,e("./SteamHourUI").setup()},{"./SteamHourUI":2}]},{},[3]);
//# sourceMappingURL=bundle.js.map
